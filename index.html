<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>SarvaLink</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"/>
  <style>
    :root {
      --primary: #007AFF;
      --primary-light: rgba(0, 122, 255, 0.1);
      --text: #FFFFFF;
      --text-secondary: rgba(255, 255, 255, 0.6);
      --bg: #000000;
      --card-bg: #1C1C1E;
      --card-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
      --border-radius: 16px;
      --spacing: 16px;
    }

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;
      background-color: var(--bg);
      color: var(--text);
      min-height: 100vh;
      padding-top: 70px;
      position: relative;
    }



    /* Fullscreen video background */
#bg-video {
  position: fixed;
  right: 0;
  bottom: 0;
  min-width: 100vw;
  min-height: 100vh;
  z-index: -1;
  object-fit: cover;
}

/* Main content should appear on top */
.main-content {
  position: relative;
  z-index: 1;
}

/* Optional: Hide black background if set earlier */
body {
  margin: 0;
  background: transparent;
  overflow-x: hidden;
}






    body::before {
      content: '';
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: 
        radial-gradient(circle at 20% 30%, rgba(255, 255, 255, 0.05) 1px, transparent 1px),
        radial-gradient(circle at 80% 70%, rgba(255, 255, 255, 0.05) 1px, transparent 1px),
        radial-gradient(circle at 50% 20%, rgba(255, 255, 255, 0.05) 1px, transparent 1px);
      background-size: 200px 200px;
      z-index: -1;
      opacity: 0.4;
    }

    .navbar {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 60px;
      background-color: rgba(28, 28, 30, 0.85);
      backdrop-filter: blur(20px);
      -webkit-backdrop-filter: blur(20px);
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 0 var(--spacing);
      z-index: 100;
      border-bottom: 1px solid rgba(255, 255, 255, 0.1);
    }

    .nav-item {
      width: 33.33%;
      display: flex;
      align-items: center;
    }

    .nav-item.left {
      justify-content: flex-start;
    }

    .nav-item.center {
      justify-content: center;
      flex-direction: column;
    }

    .nav-item.right {
      justify-content: flex-end;
      gap: 12px;
    }

    .app-logo {
      width: 32px;
      height: 32px;
      border-radius: 8px;
      object-fit: contain;
    }

    .app-title {
      font-size: 17px;
      font-weight: 600;
      color: var(--text);
    }

    .search-container {
      position: relative;
      width: 100%;
      max-width: 180px;
    }

    .search-input {
      width: 100%;
      height: 28px;
      border-radius: 10px;
      background-color: rgba(118, 118, 128, 0.24);
      border: none;
      padding: 0 28px 0 10px;
      color: var(--text);
      font-size: 13px;
    }

    .search-icon {
      position: absolute;
      right: 8px;
      top: 50%;
      transform: translateY(-50%);
      color: var(--text-secondary);
      font-size: 13px;
    }

    .clock {
      font-size: 14px;
      font-weight: 500;
    }

    .admin-btn {
      width: 32px;
      height: 32px;
      border-radius: 50%;
      background-color: var(--primary-light);
      display: flex;
      align-items: center;
      justify-content: center;
      color: var(--primary);
      cursor: pointer;
      transition: 0.2s ease;
    }

    .admin-btn:hover {
      background-color: var(--primary);
      color: white;
    }

    .container {
      max-width: 1200px;
      margin: 0 auto;
      padding: var(--spacing);
    }

    .section {
      margin-bottom: 40px;
      padding: 24px;
      background-color: var(--card-bg);
      border-radius: var(--border-radius);
      box-shadow: 0 6px 25px rgba(0, 0, 0, 0.25);
      border: 1px solid rgba(255, 255, 255, 0.05);
    }

    .section-header {
      display: flex;
      align-items: center;
      margin-bottom: 16px;
      border-bottom: 1px solid rgba(255, 255, 255, 0.1);
      padding-bottom: 10px;
    }

    .section-icon {
      width: 24px;
      height: 24px;
      margin-right: 12px;
      object-fit: contain;
    }

    .section-title {
      font-size: 20px;
      font-weight: 600;
    }

    .tools-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(160px, 1fr));
      gap: 16px;
      margin-top: 16px;
    }

    .tool-card {
      background-color: #2c2c2e;
      border-radius: 12px;
      padding: 16px;
      box-shadow: var(--card-shadow);
      transition: 0.2s ease;
    }

    .tool-card:hover {
      transform: translateY(-2px);
      box-shadow: 0 8px 25px rgba(0, 122, 255, 0.2);
    }

    .tool-logo {
      width: 48px;
      height: 48px;
      object-fit: contain;
      margin-bottom: 12px;
      border-radius: 10px;
    }

    .tool-name {
      font-size: 15px;
      font-weight: 500;
      margin-bottom: 10px;
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
    }

    .tool-link {
      display: inline-block;
      width: 100%;
      padding: 8px 0;
      background-color: var(--primary-light);
      color: var(--primary);
      text-align: center;
      border-radius: 8px;
      font-size: 14px;
      font-weight: 500;
      text-decoration: none;
    }

    .tool-link:hover {
      background-color: var(--primary);
      color: white;
    }

   .chat-icon {
  position: fixed;
  bottom: 20px;
  right: 20px;
  background-color: #007bff;
  color: white;
  border-radius: 50%;
  padding: 15px;
  font-size: 22px;
  cursor: pointer;
  z-index: 999;
  box-shadow: 0 4px 10px rgba(0,0,0,0.2);
}

.chatbox {
  position: fixed;
  bottom: 80px;
  right: 20px;
  width: 300px;
  height: 400px;
  background-color: #ffffff;
  border-radius: 12px;
  box-shadow: 0 4px 15px rgba(0,0,0,0.2);
  display: none;
  flex-direction: column;
  overflow: hidden;
  z-index: 1000;
  border: 1px solid #ccc;
}

.chatbox-header {
  background-color: #007bff;
  color: white;
  padding: 10px;
  font-weight: bold;
  display: flex;
  justify-content: space-between;
  align-items: center;
}

.close-btn {
  cursor: pointer;
  font-size: 20px;
}

.chatbox-body {
  flex: 1;
  padding: 10px;
  font-size: 14px;
  overflow-y: auto;
}

.chatbox-input {
  display: flex;
  border-top: 1px solid #ccc;
}

.chatbox-input input {
  flex: 1;
  border: none;
  padding: 10px;
  outline: none;
}

.chatbox-input button {
  background-color: #007bff;
  color: white;
  border: none;
  padding: 0 15px;
  cursor: pointer;
}


    .loading {
      display: flex;
      flex-direction: column;
      align-items: center;
      padding: 40px 0;
    }

    .loading-spinner {
      width: 40px;
      height: 40px;
      border: 3px solid rgba(255, 255, 255, 0.1);
      border-top-color: var(--primary);
      border-radius: 50%;
      animation: spin 1s linear infinite;
      margin-bottom: 16px;
    }

    @keyframes spin {
      to { transform: rotate(360deg); }
    }

    @media (max-width: 768px) {
      .tools-grid {
        grid-template-columns: repeat(auto-fill, minmax(140px, 1fr));
      }
    }

    @media (max-width: 480px) {
      .tools-grid {
        grid-template-columns: repeat(auto-fill, minmax(120px, 1fr));
      }

      .search-container {
        max-width: 140px;
      }
    }
  </style>
</head>
<script>
  function toggleChatbox() {
    const chatbox = document.getElementById("chatbox");
    chatbox.style.display = chatbox.style.display === "flex" ? "none" : "flex";
  }
</script>

<body>
  <nav class="navbar">
    <div class="nav-item left">
      <img src="your-logo.png" alt="Logo" class="app-logo"/>
      <span class="site-name">SarvaLink</span>
    </div>
    <div class="nav-item center">
   
      <div class="search-container">
        <input type="text" class="search-input" placeholder="Search..." id="searchInput"/>
        <i class="fas fa-search search-icon"></i>
      </div>
    </div>
    <div class="nav-item right">
      <div class="clock" id="clock"></div>
      <div class="admin-btn" onclick="window.location.href='admin.html'">
        <i class="fas fa-cog"></i>
      </div>
    </div>
  </nav>



  




















  <div class="container" id="sectionsContainer">
    <div class="loading">
      <div class="loading-spinner"></div>
      <div>Loading tools...</div>
    </div>
  </div>







  <!-- Video Background -->
<video autoplay muted loop id="bg-video">
  <source src="your-video.mp4" type="video/mp4" />
  Your browser does not support HTML5 video.
</video>

<!-- Your Main Content on top of video -->
<div class="main-content">
  <!-- Navbar, buttons, chat icon, etc. -->
</div>







  <!-- Chat Icon -->
<div class="chat-icon" onclick="toggleChatbox()">
  <i class="fas fa-comment-dots"></i>
</div>

<!-- Chatbox -->
<div class="chatbox" id="chatbox">
  <div class="chatbox-header">
    SarvaLink
    <span class="close-btn" onclick="toggleChatbox()">&times;</span>
  </div>
  <div class="chatbox-body">
    <p>Hello! How can we help you?</p>
    <!-- You can add AI chatbot integration here -->
  </div>
  <div class="chatbox-input">
    <input type="text" placeholder="Type a message...">
    <button><i class="fas fa-paper-plane"></i></button>
  </div>
</div>






<!-- Coming Soon Download Icon -->
<div class="chat-icon" style="bottom: 90px;" onclick="showComingSoon()">
  <i class="fas fa-cloud-download-alt"></i>
</div>
<div style="position: fixed; bottom: 70px; right: 24px; font-size: 12px; color: var(--text-secondary);"></div>

<!-- Toast Message -->
<div id="comingSoonToast" style="display: none; position: fixed; bottom: 130px; right: 24px; background: #333; color: #fff; padding: 8px 16px; border-radius: 20px; font-size: 14px; z-index: 1000;">
  App is Coming Soon ðŸš€
</div>

<script>
  function showComingSoon() {
    const toast = document.getElementById("comingSoonToast");
    toast.style.display = "block";
    setTimeout(() => {
      toast.style.display = "none";
    }, 3000);
  }
</script>





  <!-- Firebase SDKs -->
  <script src="https://www.gstatic.com/firebasejs/9.6.10/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.6.10/firebase-firestore-compat.js"></script>

  <script>
    const firebaseConfig = {
      apiKey: "AIzaSyCS3Mtmql0tRAFiVg7LAjcBru_tY1EmO_w",
      authDomain: "new1-f9abc.firebaseapp.com",
      projectId: "new1-f9abc",
      storageBucket: "new1-f9abc.appspot.com",
      messagingSenderId: "188713961246",
      appId: "1:188713961246:web:7cd412770c6c0256bc2b0f"
    };

    firebase.initializeApp(firebaseConfig);
    const db = firebase.firestore();

    function updateClock() {
      const now = new Date();
      let hours = now.getHours();
      const minutes = now.getMinutes().toString().padStart(2, '0');
      const seconds = now.getSeconds().toString().padStart(2, '0');
      const ampm = hours >= 12 ? 'PM' : 'AM';
      hours = hours % 12 || 12;
      document.getElementById('clock').textContent = `${hours}:${minutes}:${seconds} ${ampm}`;
    }
    setInterval(updateClock, 1000);
    updateClock();

    document.getElementById('searchInput').addEventListener('input', function(e) {
      const searchTerm = e.target.value.toLowerCase();
      document.querySelectorAll('.tool-card').forEach(card => {
        const name = card.querySelector('.tool-name').textContent.toLowerCase();
        card.style.display = name.includes(searchTerm) ? 'block' : 'none';
      });
    });

    function loadSectionsAndTools() {
      const container = document.getElementById("sectionsContainer");
      db.collection("sections").get().then(sectionSnap => {
        if (sectionSnap.empty) {
          container.innerHTML = '<div class="no-results">No sections available</div>';
          return;
        }
        container.innerHTML = '';
        sectionSnap.forEach(sectionDoc => {
          const section = sectionDoc.data();
          const sectionId = sectionDoc.id;
          const sectionElement = document.createElement('div');
          sectionElement.className = 'section';
          sectionElement.innerHTML = `
            <div class="section-header">
              <img src="${section.iconUrl}" class="section-icon" />
              <h2 class="section-title">${section.name}</h2>
            </div>
            <div class="tools-grid" id="tools-${sectionId}"></div>
          `;
          container.appendChild(sectionElement);

          db.collection("tools").where("section", "==", section.name).get().then(toolSnap => {
            const toolGrid = document.getElementById(`tools-${sectionId}`);
            if (toolSnap.empty) {
              toolGrid.innerHTML = '<div class="no-results">No tools in this section</div>';
              return;
            }
            toolSnap.forEach(toolDoc => {
              const tool = toolDoc.data();
              const toolCard = document.createElement('div');
              toolCard.className = 'tool-card';
              toolCard.innerHTML = `
                <img src="${tool.logoUrl}" class="tool-logo" />
                <div class="tool-name">${tool.name}</div>
                <a href="${tool.link}" target="_blank" class="tool-link">Open</a>
              `;
              toolGrid.appendChild(toolCard);
            });
          });
        });
      }).catch(error => {
        console.error("Error loading data:", error);
        container.innerHTML = `
          <div class="error-state">
            <p>Failed to load data. Try again later.</p>
            <button onclick="location.reload()">Retry</button>
          </div>`;
      });
    }

    document.addEventListener("DOMContentLoaded", loadSectionsAndTools);
  </script>
</body>
</html>
